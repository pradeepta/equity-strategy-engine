# ============================================================================
# Broker Configuration
# ============================================================================

# Broker selection: 'tws' (default) or 'alpaca'
BROKER=tws

# Trading mode: 'true' for live paper trading, 'false' for dry-run (default)
LIVE=false

# ============================================================================
# Interactive Brokers TWS Configuration (Default)
# ============================================================================

# TWS/IB Gateway host (default: 127.0.0.1)
TWS_HOST=127.0.0.1

# TWS/IB Gateway port
# 7497 = Paper Trading (default)
# 7496 = Live Trading
TWS_PORT=7497

# TWS client ID (default: 0)
# Use different IDs if running multiple connections
TWS_CLIENT_ID=0

# TWS account ID for portfolio fetching (paper trading account)
# Find this in TWS account window (e.g., DU9999999 for paper)
TWS_ACCOUNT_ID=DU9999999

# ============================================================================
# Alpaca Configuration (Alternative Broker)
# ============================================================================

# Alpaca API credentials
# Get your API keys from: https://app.alpaca.markets/paper/dashboard/overview
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_API_SECRET=your_alpaca_api_secret_here

# Alternative naming convention (both supported)
# APCA_API_KEY_ID=your_alpaca_api_key_here
# APCA_API_SECRET_KEY=your_alpaca_api_secret_here

# Alpaca base URL (optional)
# Default: https://paper-api.alpaca.markets
# ALPACA_BASE_URL=https://paper-api.alpaca.markets
# APCA_API_BASE_URL=https://paper-api.alpaca.markets

# ============================================================================
# Multi-Strategy Hot-Reload Configuration
# ============================================================================

# Directory where strategy YAMLs are organized
STRATEGY_SANDBOX_DIR=./strategies
STRATEGY_LIVE_DIR=./strategies/live
STRATEGY_CLOSED_DIR=./strategies/closed
STRATEGY_ARCHIVE_DIR=./strategies/archive

# WebSocket evaluation endpoint (stub for now, will integrate with Claude MCP later)
STRATEGY_EVAL_WS_ENDPOINT=ws://localhost:8080/evaluate
STRATEGY_EVAL_ENABLED=true

# Multi-strategy settings
MAX_CONCURRENT_STRATEGIES=10
STRATEGY_AUTO_DISCOVERY=true
STRATEGY_WATCH_INTERVAL_MS=30000

# ============================================================================
# Usage Examples
# ============================================================================

# Single-strategy mode (traditional):
#   npm run live AAPL aapl-momentum

# Multi-strategy mode (hot-reload):
#   npm run live:multi

# Dry-run with TWS (no orders submitted):
#   npm run live

# Live paper trading with TWS:
#   LIVE=true npm run live

# Use Alpaca instead:
#   BROKER=alpaca npm run live

# Live paper trading with Alpaca:
#   BROKER=alpaca LIVE=true npm run live
